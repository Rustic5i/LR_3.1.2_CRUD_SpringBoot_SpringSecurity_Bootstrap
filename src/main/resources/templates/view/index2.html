<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <!-- Обязательные метатеги -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>List People</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

</head>
<body>
<!--------------Панель навигации------------------------------------------------->
<header>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <div>
                <span class="navbar-brand mb-0 h1" th:text="${currentUserName}">userName</span>
                <span class="navbar-brand">with roles:</span>
                <span class="navbar-brand" th:text="${currentUserRoles}">userRole</span>
            </div>
            <div>
                <a class="nav-link" style="color: #9a9787" href="/logout">Logout</a>
            </div>
        </div>
    </nav>
</header>
<!---------------Навигация и вкладки------------------------------------------------>
<!--Main panel-->
    <div class="d-flex">
        <!--Menu Admin and  User-->
        <ul class="nav nav-pills flex-column mb-auto col-2">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" th:href="@{/admin}">Admin</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" th:href="@{/user}">User</a>
            </li>
        </ul>
        <!--    -->
        <div class="col-sm-9 text-left tab-content bg-light" id="pills-tabContent">
            <div><h1> Admin panel</h1></div>
            <nav>
                <div class="nav nav-tabs" id="nav-tab">
                    <a class="nav-link active" id="nav-home-tab" data-bs-toggle="tab"
                       href="#nav-home">Users table</a>
                    <a class="nav-link" id="nav-profile-tab" data-bs-toggle="tab"
                       href="#nav-profile">New User</a>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-home">
                    <div class="tab-pane fade show active" id="pills-home">
                        <div><h5>All users</h5></div>
                        <table border="1" class="table table-hover">
                            <tr>
                                <th>ID</th>
                                <th>Last Name</th>
                                <th>Age</th>
                                <th>Email</th>
                                <th>Password</th>
                                <th>Role</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                            <tr>
                            <tr th:each="user : ${people}">
                                <td th:utext="${user.getId()}"></td>
                                <td th:utext="${user.getUsername()}"></td>
                                <td th:utext="${user.getAge()}"></td>
                                <td th:utext="${user.getEmail()}"></td>
                                <td th:utext="${user.password}"></td>
                                <td th:utext="${user.getAuthorities()}"></td>
                                <td>
                                    <form th:method="DELETE" th:action="@{/admin/{id}(id=${user.getId()})}">
                                        <input type="submit" value="Delete">
                                    </form>
                                </td>
                                <td>
                                    <a th:href="@{/admin/{id}/edit(id=${user.getId()})}">Edit</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                   ВКЛАДКА - New User
                </div>
            </div>
            <div class="tab-pane fade" id="pills-profile">
                User ---------------
<!--                <h1> User information-page</h1>-->
<!--                <table border="1">-->
<!--                    <tr style="color: indianred">-->
<!--                        <th>Id</th>-->
<!--                        <th>Name</th>-->
<!--                        <th>Age</th>-->
<!--                        <th>Email</th>-->
<!--                        <th>Password</th>-->
<!--                        <th>Roles</th>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                    <tr th:each="user : ${people}">-->
<!--                        <td th:utext="${user.getId()}"></td>-->
<!--                        <td th:utext="${user.getUsername()}"></td>-->
<!--                        <td th:utext="${user.getAge()}"></td>-->
<!--                        <td th:utext="${user.getEmail()}"></td>-->
<!--                        <td th:utext="${user.password}"></td>-->
<!--                        <td th:utext="${user.getAuthorities()}"></td>-->
<!--                    </tr>-->
<!--                </table>-->
            </div>
        </div>

    </div>
</div>
<!------------------------------------------------------>
<!--<div class="d-flex align-items-start">-->
<!--    <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">-->
<!--        <button class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">Admin</button>-->
<!--        <button class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">User</button>-->
<!--    </div>-->
<!--    <div class="tab-content" id="v-pills-tabContent">-->
<!--        <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">-->
<!--            <h1> Admin panel</h1>-->
<!--            <table border="1">-->
<!--                <tr style="color: indianred">-->
<!--                    <th>Id</th>-->
<!--                    <th>Name</th>-->
<!--                    <th>Age</th>-->
<!--                    <th>Email</th>-->
<!--                    <th>Password</th>-->
<!--                    <th>Roles</th>-->
<!--                </tr>-->
<!--                <tr>-->
<!--                <tr th:each="user : ${people}">-->
<!--                    <td th:utext="${user.getId()}"></td>-->
<!--                    <td th:utext="${user.getUsername()}"></td>-->
<!--                    <td th:utext="${user.getAge()}"></td>-->
<!--                    <td th:utext="${user.getEmail()}"></td>-->
<!--                    <td th:utext="${user.password}"></td>-->
<!--                    <td th:utext="${user.getAuthorities()}"></td>-->
<!--                    <td>-->
<!--                        <form th:method="DELETE" th:action="@{/admin/{id}(id=${user.getId()})}">-->
<!--                            <input type="submit" value="Delete">-->
<!--                        </form>-->
<!--                    </td>-->
<!--                    <td>-->
<!--                        <a th:href="@{/admin/{id}/edit(id=${user.getId()})}">Edit</a>-->
<!--                    </td>-->
<!--                </tr>-->
<!--            </table>-->
<!--        </div>-->
<!--        <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">-->
<!--                <h1> User information-page</h1>-->
<!--                <table border="1">-->
<!--                    <tr style="color: indianred">-->
<!--                        <th>Id</th>-->
<!--                        <th>Name</th>-->
<!--                        <th>Age</th>-->
<!--                        <th>Email</th>-->
<!--                        <th>Password</th>-->
<!--                        <th>Roles</th>-->
<!--                    </tr>-->
<!--                    <tr>-->
<!--                    <tr th:each="user : ${people}">-->
<!--                        <td th:utext="${user.getId()}"></td>-->
<!--                        <td th:utext="${user.getUsername()}"></td>-->
<!--                        <td th:utext="${user.getAge()}"></td>-->
<!--                        <td th:utext="${user.getEmail()}"></td>-->
<!--                        <td th:utext="${user.password}"></td>-->
<!--                        <td th:utext="${user.getAuthorities()}"></td>-->
<!--                    </tr>-->
<!--                </table>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!------------------------------------------------------------------------->
<!--<br/>-->
<!--<br>-->
<!--<hr/>-->
<!--<div sec:authorize="hasRole('ROLE_ADMIN')">-->
<!--    <h2>Create a new user</h2>-->
<!--    <form th:method="POST" th:action="@{/admin}" th:object="${newUser}">-->
<!--        <label for="name">Name</label>-->
<!--        <input type="text" th:field="*{username}" id="name"/>-->
<!--        <div style="color:red" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Name Error</div>-->
<!--        <br/>-->
<!--        <label for="age">Age </label>-->
<!--        <input type="text" th:field="*{age}" id="age"/>-->
<!--        <div style="color:red" th:if="${#fields.hasErrors('age')}" th:errors="*{age}">Age Error</div>-->
<!--        <br/>-->
<!--        <label for="email">Email</label>-->
<!--        <input type="text" th:field="*{email}" id="email"/>-->
<!--        <div style="color:red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</div>-->
<!--        <br/>-->
<!--        <label for="password">Password</label>-->
<!--        <input type="text" th:field="*{password}" id="password"/>-->
<!--        <div style="color:red" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</div>-->
<!--        <br/>-->
<!--        <select multiple name="listRoles[]" required="required">-->
<!--            &lt;!&ndash;        <option disabled> </option>&ndash;&gt;-->
<!--            <option value="ROLE_ADMIN">ADMIN</option>-->
<!--            <option value="ROLE_USER">USER</option>-->
<!--        </select>-->
<!--        <br/>-->
<!--        <input type="submit" value="Create!"/>-->
<!--    </form>-->
<!--</div>-->
<!--<br/>-->
<!--<a href="/logout">-->
<!--    <button>Logout</button>-->
<!--</a>-->
<script src="app.js">

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
</body>
</html>